@import "tailwindcss";

html,
body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: rgba(246, 245, 243, 0.1n0);
  backdrop-filter: blur(10px);
  touch-action: none; /* Prevent viewport scrolling on mobile */
}

/* Tauri transparent window support */
body.tauri-app {
  background: transparent;
}

#root {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: relative;
}

/* Global scrollbar hiding */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Webkit */
}

canvas {
  display: block;
  width: 100vw;
  height: 100vh;
  opacity: 0;
  transition: opacity 600ms ease-out;
}

#root.scene-ready canvas {
  opacity: 1;
}

/* iOS PWA specific fixes */
@supports (-webkit-touch-callout: none) {
  #root {
    height: 100vh; /* Dynamic viewport height - accounts for iOS safe areas */
  }
  
  canvas {
    min-height: 100vh;
  }
}

@theme {
  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --color-brand-50: oklch(0.97 0.02 247.84);
  --color-brand-100: oklch(0.93 0.05 247.84);
  --color-brand-500: oklch(0.64 0.18 247.84);
  --color-brand-600: oklch(0.58 0.20 247.84);
  --color-brand-700: oklch(0.51 0.22 247.84);
  --color-brand-900: oklch(0.35 0.15 247.84);
}

:root {
  /* Glass System - White Scale */
  --glass-text-primary: rgba(255, 255, 255, 0.95);
  --glass-text-secondary: rgba(255, 255, 255, 0.7);
  --glass-text-muted: rgba(255, 255, 255, 0.4);
  
  --glass-surface-0: rgba(255, 255, 255, 0.03);
  --glass-surface-10: rgba(255, 255, 255, 0.1);
  --glass-surface-20: rgba(255, 255, 255, 0.2);
  
  --glass-border-5: rgba(255, 255, 255, 0.05);
  --glass-border-10: rgba(255, 255, 255, 0.1);
  --glass-border-20: rgba(255, 255, 255, 0.2);

  /* Functional Tints (Translucent) */
  /* Sand - Warm/Auth/Notes - Shifted to be lighter on dark bg */
  --glass-sand-bg: rgba(225, 210, 190, 0.15);
  --glass-sand-border: rgba(225, 210, 190, 0.3);
  
  /* Leaf - Active/Growth */
  --glass-leaf-bg: rgba(160, 200, 180, 0.2);
  --glass-leaf-border: rgba(160, 200, 180, 0.4);
  --glass-leaf-text: rgba(210, 255, 230, 0.95);
  
  /* Clay/Purple - Completed/Archive */
  --glass-clay-bg: rgba(180, 160, 190, 0.1);
  --glass-clay-border: rgba(180, 160, 190, 0.2);

  /* Standard Blur */
  --glass-blur: 12px;
}

.scroller {
  /* Static top+bottom vignette using masks, no JS, no scroll-timeline */
  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 0,
    black 1rem,
    black calc(100% - 8rem),
    transparent 100%
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 0,
    black 1rem,
    black calc(100% - 12rem),
    transparent 100%
  );
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  touch-action: pan-y; /* Allow vertical scrolling within scrollable elements */
}
